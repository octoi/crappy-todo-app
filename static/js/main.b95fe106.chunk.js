(this["webpackJsonpcrappy-todo-app"]=this["webpackJsonpcrappy-todo-app"]||[]).push([[0],{101:function(e,o,t){},111:function(e,o,t){"use strict";t.r(o);var n=t(0),c=t.n(n),r=t(19),i=t.n(r),s=t(17),a=(t(101),t(57)),l=t(4);function d(e){var o=e.addTodo,t=Object(n.useState)(""),c=Object(s.a)(t,2),r=c[0],i=c[1],a=Object(n.useState)(!1),d=Object(s.a)(a,2),u=d[0],j=d[1];return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0!==r.trim().length?(o(r),i("")):j(!0)},children:[Object(l.jsxs)("div",{className:"input",children:[Object(l.jsx)("input",{value:r,onChange:function(e){i(e.target.value),""!==e.target.value.trim()&&j(!1)},placeholder:"To do ??",autoFocus:!0}),Object(l.jsx)("button",{type:"submit",children:Object(l.jsx)("i",{className:"fas fa-plus"})})]}),u&&Object(l.jsx)("p",{className:"error-message",children:"Oops! Todo cannot be blank"})]})}var u=t(62),j=t(59),b=t(60),f=function(){function e(o){Object(j.a)(this,e),this.setTodos=o}return Object(b.a)(e,[{key:"addTodo",value:function(e){var o={title:e,isDone:!1,id:Date.now()};this.setTodos((function(e){return[o].concat(Object(u.a)(e))}))}},{key:"deleteTodo",value:function(e,o){var t=e;t=t.filter((function(e){return e.id!==o})),this.setTodos(t)}},{key:"resolveTodo",value:function(e,o){this.setTodos(e.filter((function(e){return e.id===o&&(e.isDone=!e.isDone),e})))}},{key:"editTodo",value:function(e,o,t){this.setTodos(e.filter((function(e){return e.id===o&&(e.title=t),e})))}}]),e}();function h(e){var o=e.setFilter,t=e.filter;return Object(l.jsxs)("div",{className:"options",children:[Object(l.jsx)("button",{className:"all"===t?"selected-btn":"",onClick:function(){return o("all")},children:"All"}),Object(l.jsx)("button",{className:"done"===t?"selected-btn":"",onClick:function(){return o("done")},children:"Completed"}),Object(l.jsx)("button",{className:"todo"===t?"selected-btn":"",onClick:function(){return o("todo")},children:"Todo"})]})}var O=t(34),p=t(48),v=t(11),x=t(58),g=t(56);function m(e){var o=e.isOpen,t=e.onClose,n=e.handleDeleteTodo,r=c.a.useRef();return Object(l.jsx)(x.a,{isOpen:o,leastDestructiveRef:r,onClose:t,isCentered:!0,children:Object(l.jsx)(x.f,{children:Object(l.jsxs)(x.c,{background:"var(--primary-color)",children:[Object(l.jsx)(x.e,{children:"Delete Todo"}),Object(l.jsx)(x.b,{children:"Are you sure? You can't undo this action afterwards."}),Object(l.jsxs)(x.d,{children:[Object(l.jsx)(g.a,{background:"var(--secondary-color)",ref:r,onClick:t,border:"none",cursor:"pointer",color:"var(--text-color)",children:"Cancel"}),Object(l.jsx)(g.a,{background:"var(--danger-accent-color)",ref:r,onClick:n,border:"none",cursor:"pointer",color:"var(--secondary-color)",ml:3,_hover:{background:"var(--danger-color)",color:"var(--text-color)"},children:"Delete"})]})]})})})}function k(e){var o=e.isOpen,t=e.onClose,c=e.todoValue,r=e.editTodo,i=Object(n.useState)(c),a=Object(s.a)(i,2),d=a[0],u=a[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(x.g,{isOpen:o,onClose:t,isCentered:!0,children:[Object(l.jsx)(x.m,{}),Object(l.jsxs)(x.j,{background:"var(--primary-color)",children:[Object(l.jsx)(x.l,{children:"Edit Todo"}),Object(l.jsx)(x.i,{background:"var(--secondary-color)",border:"none",cursor:"pointer",color:"var(--text-color)"}),Object(l.jsx)(x.h,{children:Object(l.jsx)("input",{value:d,onChange:function(e){u(e.target.value)},placeholder:"To do ??",autoFocus:!0,className:"dialogue-input"})}),Object(l.jsxs)(x.k,{children:[Object(l.jsx)(g.a,{background:"var(--secondary-color)",onClick:t,border:"none",cursor:"pointer",color:"var(--text-color)",children:"Cancel"}),Object(l.jsx)(g.a,{background:"var(--accent-color)",onClick:function(){r(d),t()},disabled:0===d.trim().length,border:"none",cursor:"pointer",color:"var(--secondary-color)",ml:3,_hover:{background:"var(--accent-accent-color)",color:"var(--secondary-color)"},children:"Edit Todo"})]})]})]})})}function T(e){var o=e.todo,t=e.deleteTodo,c=e.resolveTodo,r=e.editTodo,i=Object(n.useRef)(),s=Object(v.b)(),a=s.onOpen,d=s.isOpen,u=s.onClose,j=Object(v.b)(),b=j.onOpen,f=j.isOpen,h=j.onClose;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"todo ".concat(o.isDone?"todo-fill":""),ref:i,children:[Object(l.jsxs)("div",{className:"todo-content",children:[o.isDone&&Object(l.jsx)("div",{onClick:c,className:"checked-btn",children:Object(l.jsx)("i",{class:"fas fa-check"})}),!o.isDone&&Object(l.jsx)("input",{onChange:function(){return c()},className:"checkbox",type:"checkbox",checked:o.isDone}),Object(l.jsx)("p",{className:o.isDone?"completed-task":"",children:o.title})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"todo-delete",onClick:a,children:Object(l.jsx)("i",{className:"far fa-trash-alt"})}),Object(l.jsx)("button",{className:"todo-edit",onClick:b,children:Object(l.jsx)("i",{className:"far fa-edit"})})]})]}),Object(l.jsx)(m,{isOpen:d,onClose:u,handleDeleteTodo:function(){u(),i.current.classList.add("fall"),setTimeout((function(){t()}),1e3)}}),Object(l.jsx)(k,{isOpen:f,onClose:h,editTodo:r,todoValue:o.title})]})}function C(e){var o=e.todoItems,t=e.setTodoItems,c=e.todoHelper,r=e.filter,i=Object(n.useState)(o||[]),a=Object(s.a)(i,2),d=a[0],u=a[1];Object(n.useEffect)((function(){u(o)}),[o]);return Object(l.jsx)(p.a,{onDragEnd:function(e){if(e.destination){var o=Array.from(d),n=o.splice(e.source.index,1),c=Object(s.a)(n,1)[0];o.splice(e.destination.index,0,c),u(o),t(o)}},children:Object(l.jsx)(p.c,{droppableId:"todos",children:function(e){return Object(l.jsxs)("ul",Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,children:[""!==d&&d.map((function(e,o){return"done"!==r||e.isDone?"todo"===r&&e.isDone?null:Object(l.jsx)(p.b,{draggableId:"item-".concat(o),index:o,children:function(o){return Object(l.jsx)("li",Object(O.a)(Object(O.a)(Object(O.a)({},o.draggableProps),o.dragHandleProps),{},{ref:o.innerRef,children:Object(l.jsx)(T,{todo:e,deleteTodo:function(){return c.deleteTodo(d,e.id)},resolveTodo:function(){return c.resolveTodo(d,e.id)},editTodo:function(o){return c.editTodo(d,e.id,o)}},e.id)}))}},o):null})),e.placeholder]}))}})})}var y=function(){var e=Object(n.useState)(""),o=Object(s.a)(e,2),t=o[0],c=o[1],r=Object(n.useState)("all"),i=Object(s.a)(r,2),u=i[0],j=i[1],b=new f(c);return Object(n.useEffect)((function(){if(localStorage)if(""===t){var e=localStorage.getItem("todos");e&&0!==e.length&&c(JSON.parse(e))}else localStorage.setItem("todos",JSON.stringify(t))}),[t]),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(a.a,{direction:"column",justifyContent:"center",alignItems:"center",mt:20,children:[Object(l.jsx)("h1",{children:"Todo App"}),Object(l.jsx)(d,{addTodo:function(e){return b.addTodo(e)}}),Object(l.jsx)(h,{filter:u,setFilter:j}),Object(l.jsx)(C,{todoItems:t,setTodoItems:c,filter:u,todoHelper:b})]})})},w=t(26),N=Object(w.b)({config:{initialColorMode:"dark",useSystemColorMode:!1}});function S(e){var o=e.children;return Object(l.jsx)(w.a,{theme:N,resetCSS:!1,children:o})}var D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,o){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),o&&o.onUpdate&&o.onUpdate(e)):(console.log("Content is cached for offline use."),o&&o.onSuccess&&o.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(S,{children:Object(l.jsx)(y,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/crappy-todo-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var o="".concat("/crappy-todo-app","/service-worker.js");D?(!function(e,o){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,o)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(o,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):I(o,e)}))}}()}},[[111,1,2]]]);
//# sourceMappingURL=main.b95fe106.chunk.js.map