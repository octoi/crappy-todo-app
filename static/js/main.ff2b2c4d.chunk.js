(this["webpackJsonpcrappy-todo-app"]=this["webpackJsonpcrappy-todo-app"]||[]).push([[0],{18:function(e,t,o){},24:function(e,t,o){"use strict";o.r(t);var n=o(0),c=o.n(n),i=o(3),r=o.n(i),s=o(2),a=(o(18),o(1));function d(e){var t=e.addTodo,o=Object(n.useState)(""),c=Object(s.a)(o,2),i=c[0],r=c[1],d=Object(n.useState)(!1),l=Object(s.a)(d,2),u=l[0],f=l[1];return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0!==i.trim().length?(t(i),r("")):f(!0)},children:[Object(a.jsxs)("div",{className:"input",children:[Object(a.jsx)("input",{value:i,onChange:function(e){r(e.target.value),""!==e.target.value.trim()&&f(!1)},placeholder:"To do ??",autoFocus:!0}),Object(a.jsx)("button",{type:"submit",children:Object(a.jsx)("i",{className:"fas fa-plus"})})]}),u&&Object(a.jsx)("p",{className:"error-message",children:"Oops! Todo cannot be blank"})]})}var l=o(13),u=o(11),f=o(12),j=function(){function e(t){Object(u.a)(this,e),this.setTodos=t}return Object(f.a)(e,[{key:"addTodo",value:function(e){var t={title:e,isDone:!1,id:Date.now()};this.setTodos((function(e){return[].concat(Object(l.a)(e),[t])}))}},{key:"deleteTodo",value:function(e,t){var o=e;o=o.filter((function(e){return e.id!==t})),this.setTodos(o)}},{key:"resolveTodo",value:function(e,t){this.setTodos(e.filter((function(e){return e.id===t&&(e.isDone=!e.isDone),e})))}},{key:"editTodo",value:function(e,t,o){this.setTodos(e.filter((function(e){return e.id===t&&(e.title=o),e})))}}]),e}();function b(e){var t=e.setFilter,o=e.filter;return Object(a.jsxs)("div",{className:"options",children:[Object(a.jsx)("button",{className:"all"===o?"selected-btn":"",onClick:function(){return t("all")},children:"All"}),Object(a.jsx)("button",{className:"done"===o?"selected-btn":"",onClick:function(){return t("done")},children:"Completed"}),Object(a.jsx)("button",{className:"todo"===o?"selected-btn":"",onClick:function(){return t("todo")},children:"Todo"})]})}var p=o(4),h=o(7);function O(e){var t=e.todo,o=e.deleteTodo,c=e.resolveTodo,i=e.editTodo,r=Object(n.useRef)();return Object(a.jsxs)("div",{className:"todo ".concat(t.isDone?"todo-fill":""),ref:r,children:[Object(a.jsxs)("div",{className:"todo-content",children:[t.isDone&&Object(a.jsx)("div",{onClick:c,className:"checked-btn",children:Object(a.jsx)("i",{class:"fas fa-check"})}),!t.isDone&&Object(a.jsx)("input",{onChange:function(){return c()},className:"checkbox",type:"checkbox",checked:t.isDone}),Object(a.jsx)("p",{className:t.isDone?"completed-task":"",children:t.title})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"todo-delete",onClick:function(){if(window.confirm&&!window.confirm("Are you sure ??"))return;r.current.classList.add("fall"),setTimeout((function(){o()}),1e3)},children:Object(a.jsx)("i",{className:"far fa-trash-alt"})}),Object(a.jsx)("button",{className:"todo-edit",onClick:function(){if(window.prompt){var e=prompt("Edit todo",t.title);e&&i(e)}},children:Object(a.jsx)("i",{className:"far fa-edit"})})]})]})}function v(e){var t=e.todoItems,o=e.setTodoItems,c=e.todoHelper,i=e.filter,r=Object(n.useState)(t||[]),d=Object(s.a)(r,2),l=d[0],u=d[1];Object(n.useEffect)((function(){u(t)}),[t]);return Object(a.jsx)(h.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(l),n=t.splice(e.source.index,1),c=Object(s.a)(n,1)[0];t.splice(e.destination.index,0,c),u(t),o(t)}},children:Object(a.jsx)(h.c,{droppableId:"todos",children:function(e){return Object(a.jsxs)("ul",Object(p.a)(Object(p.a)({},e.droppableProps),{},{ref:e.innerRef,children:[""!==l&&l.map((function(e,t){return"done"!==i||e.isDone?"todo"===i&&e.isDone?null:Object(a.jsx)(h.b,{draggableId:"item-".concat(t),index:t,children:function(t){return Object(a.jsx)("li",Object(p.a)(Object(p.a)(Object(p.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(a.jsx)(O,{todo:e,deleteTodo:function(){return c.deleteTodo(l,e.id)},resolveTodo:function(){return c.resolveTodo(l,e.id)},editTodo:function(t){return c.editTodo(l,e.id,t)}},e.id)}))}},t):null})),e.placeholder]}))}})})}var m=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),o=t[0],c=t[1],i=Object(n.useState)("all"),r=Object(s.a)(i,2),l=r[0],u=r[1],f=new j(c);return Object(n.useEffect)((function(){if(localStorage)if(""===o){var e=localStorage.getItem("todos");e&&0!==e.length&&c(JSON.parse(e))}else localStorage.setItem("todos",JSON.stringify(o))}),[o]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("h1",{children:"Todo App"}),Object(a.jsx)(d,{addTodo:function(e){return f.addTodo(e)}}),Object(a.jsx)(b,{filter:l,setFilter:u}),Object(a.jsx)(v,{todoItems:o,setTodoItems:c,filter:l,todoHelper:f})]})},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/crappy-todo-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/crappy-todo-app","/service-worker.js");g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):x(t,e)}))}}()}},[[24,1,2]]]);
//# sourceMappingURL=main.ff2b2c4d.chunk.js.map